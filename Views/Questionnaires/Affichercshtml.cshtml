@model WebApplication_SRPFIQ.Models.Questionnaire

@{
    ViewData["Title"] = "Afficher le Questionnaire";
}

<h2>@Model.Name</h2>

<hr />

<form method="post">
    @foreach (var question in Model.Questions.OrderBy(q => q.Order))
    {
        <div class="form-group mb-4">
            <label><strong>@question.Order. @question.Libelle</strong></label>

            @switch (question.Type)
            {
                case "Radio":
                    foreach (var option in question.Choix)
                    {
                        <div class="form-check">
                            <input type="radio" name="q@question.Id" value="@option" class="form-check-input" />
                            <label class="form-check-label">@option</label>
                        </div>
                    }
                    break;

                case "Select":
                    <select class="form-control" name="q@question.Id">
                        <option disabled selected>-- Sélectionner --</option>
                        @foreach (var option in question.Choix)
                        {
                            <option value="@option">@option</option>
                        }
                    </select>
                    break;

                case "Text":
                    <input type="text" name="q@question.Id" class="form-control" />
                    break;

                default:
                    <p class="text-muted">Type de question inconnu : @question.Type</p>
                    break;
            }
        </div>
    }

    <button type="submit" class="btn btn-primary">Soumettre</button>
</form>
